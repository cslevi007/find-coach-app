{"remainingRequest":"C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\src\\pages\\auth\\UserAuth.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\src\\pages\\auth\\UserAuth.vue","mtime":1655194682179},{"path":"C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\babel.config.js","mtime":1598433744000},{"path":"C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653990490219},{"path":"C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1653990490215},{"path":"C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\node_modules\\babel-loader\\lib\\index.js","mtime":1653990506204},{"path":"C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653990490219},{"path":"C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1653990509072}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovVXNlcnMvQ0xTMU1DL3NvdXJjZS9yZXBvcy92dWVfY29tcGxldGUvbWFpbi1wcmotMDEtc3RhcnRpbmctc2V0dXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9DTFMxTUMvc291cmNlL3JlcG9zL3Z1ZV9jb21wbGV0ZS9tYWluLXByai0wMS1zdGFydGluZy1zZXR1cC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBmb3JtSXNWYWxpZDogdHJ1ZSwKICAgICAgbW9kZTogJ2xvZ2luJywKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgZXJyb3I6IG51bGwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgc3VibWl0QnV0dG9uQ2FwdGlvbjogZnVuY3Rpb24gc3VibWl0QnV0dG9uQ2FwdGlvbigpIHsKICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ2xvZ2luJykgewogICAgICAgIHJldHVybiAnTG9naW4nOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnU2lnbiBVcCc7CiAgICAgIH0KICAgIH0sCiAgICBzd2l0Y2hNb2RlQnV0dG9uQ2FwdGlvbjogZnVuY3Rpb24gc3dpdGNoTW9kZUJ1dHRvbkNhcHRpb24oKSB7CiAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdsb2dpbicpIHsKICAgICAgICByZXR1cm4gJ1NpZ251cCBpbnN0ZWFkJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ0xvZ2luIGluc3RlYWQnOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgYWN0aW9uUGF5bG9hZDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5mb3JtSXNWYWxpZCA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuZW1haWwgPT09ICcnIHx8IF90aGlzLnBhc3N3b3JkLmxlbmd0aCA8IDYpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5mb3JtSXNWYWxpZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBhY3Rpb25QYXlsb2FkID0gewogICAgICAgICAgICAgICAgICBlbWFpbDogX3RoaXMuZW1haWwsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpcy5wYXNzd29yZAogICAgICAgICAgICAgICAgfTsgLy9zZW5kIGh0dHAgcmVxdWVzdC4uLgoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLm1vZGUgPT09ICdsb2dpbicpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbG9naW4nLCBhY3Rpb25QYXlsb2FkKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2lnbnVwJywgYWN0aW9uUGF5bG9hZCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuJHJvdXRlLnF1ZXJ5LnJlZGlyZWN0KSB7CiAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy4kc3RvcmUuZ2V0dGVyc1snY29hY2hlcy9pc0NvYWNoJ10pIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnJlcGxhY2UoJy9jb2FjaGVzJyk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5yZXBsYWNlKCcvJyArIF90aGlzLiRyb3V0ZS5xdWVyeS5yZWRpcmVjdCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucmVwbGFjZSgnL2NvYWNoZXMnKTsKICAgICAgICAgICAgICAgIH0gLy8gY29uc3QgcmVkaXJlY3RVcmwgPSAnLycgKyAodGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3QgfHwgJ2NvYWNoZXMnKTsKICAgICAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5yZXBsYWNlKHJlZGlyZWN0VXJsKTsKCgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTc7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDYpOwogICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IgPSBfY29udGV4dC50MC5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gYXV0aGVjdGljYXRlLCB0cnkgbGF0ZXIuJzsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1s2LCAxN11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc3dpdGNoQXV0aE1vZGU6IGZ1bmN0aW9uIHN3aXRjaEF1dGhNb2RlKCkgewogICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9naW4nKSB7CiAgICAgICAgdGhpcy5tb2RlID0gJ3NpZ251cCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tb2RlID0gJ2xvZ2luJzsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUVycm9yOiBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHsKICAgICAgdGhpcy5lcnJvciA9IG51bGw7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;AAgCA,eAAe;EACbA,IADa,kBACN;IACL,OAAO;MACLC,KAAK,EAAE,EADF;MAELC,QAAQ,EAAE,EAFL;MAGLC,WAAW,EAAE,IAHR;MAILC,IAAI,EAAE,OAJD;MAKLC,SAAS,EAAE,KALN;MAMLC,KAAK,EAAE;IANF,CAAP;EAQD,CAVY;EAWbC,QAAQ,EAAE;IACRC,mBADQ,iCACc;MACpB,IAAI,KAAKJ,IAAL,KAAc,OAAlB,EAA2B;QACzB,OAAO,OAAP;MACF,CAFA,MAEO;QACL,OAAO,SAAP;MACF;IACD,CAPO;IAQRK,uBARQ,qCAQkB;MACxB,IAAI,KAAKL,IAAL,KAAc,OAAlB,EAA2B;QACzB,OAAO,gBAAP;MACF,CAFA,MAEO;QACL,OAAO,eAAP;MACF;IACD;EAdO,CAXG;EA2BbM,OAAO,EAAE;IACDC,UADC,wBACY;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACjB,KAAI,CAACR,WAAL,GAAmB,IAAnB;;gBADiB,MAEb,KAAI,CAACF,KAAL,KAAe,EAAf,IAAqB,KAAI,CAACC,QAAL,CAAcU,MAAd,GAAuB,CAF/B;kBAAA;kBAAA;gBAAA;;gBAGf,KAAI,CAACT,WAAL,GAAmB,KAAnB;gBAHe;;cAAA;gBAOjB,KAAI,CAACE,SAAL,GAAiB,IAAjB;gBAEMQ,aATW,GASK;kBACpBZ,KAAK,EAAE,KAAI,CAACA,KADQ;kBAEpBC,QAAQ,EAAE,KAAI,CAACA;gBAFK,CATL,EAcjB;;gBAdiB;;gBAAA,MAgBX,KAAI,CAACE,IAAL,KAAc,OAhBH;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA,OAiBP,KAAI,CAACU,MAAL,CAAYC,QAAZ,CAAqB,OAArB,EAA8BF,aAA9B,CAjBO;;cAAA;gBAAA;gBAAA;;cAAA;gBAAA;gBAAA,OAmBP,KAAI,CAACC,MAAL,CAAYC,QAAZ,CAAqB,QAArB,EAA+BF,aAA/B,CAnBO;;cAAA;gBAqBf,IAAI,KAAI,CAACG,MAAL,CAAYC,KAAZ,CAAkBC,QAAtB,EAAgC;kBAC9B,IAAI,KAAI,CAACJ,MAAL,CAAYK,OAAZ,CAAoB,iBAApB,CAAJ,EAA4C;oBAC1C,KAAI,CAACC,OAAL,CAAaC,OAAb,CAAqB,UAArB;kBACF,CAFA,MAEO;oBACL,KAAI,CAACD,OAAL,CAAaC,OAAb,CAAqB,MAAM,KAAI,CAACL,MAAL,CAAYC,KAAZ,CAAkBC,QAA7C;kBACF;gBACF,CANA,MAMO;kBACL,KAAI,CAACE,OAAL,CAAaC,OAAb,CAAqB,UAArB;gBACF,CA7Be,CA8Bf;gBACA;;;gBA/Be;gBAAA;;cAAA;gBAAA;gBAAA;gBAiCf,KAAI,CAACf,KAAL,GAAa,YAAIgB,OAAJ,IAAe,oCAA5B;;cAjCe;gBAoCjB,KAAI,CAACjB,SAAL,GAAiB,KAAjB;;cApCiB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAqClB,CAtCM;IAuCPkB,cAvCO,4BAuCU;MACf,IAAI,KAAKnB,IAAL,KAAc,OAAlB,EAA2B;QACzB,KAAKA,IAAL,GAAY,QAAZ;MACF,CAFA,MAEO;QACL,KAAKA,IAAL,GAAY,OAAZ;MACF;IACD,CA7CM;IA8CPoB,WA9CO,yBA8CO;MACZ,KAAKlB,KAAL,GAAa,IAAb;IACD;EAhDM;AA3BI,CAAf","names":["data","email","password","formIsValid","mode","isLoading","error","computed","submitButtonCaption","switchModeButtonCaption","methods","submitForm","length","actionPayload","$store","dispatch","$route","query","redirect","getters","$router","replace","message","switchAuthMode","handleError"],"sourceRoot":"","sources":["C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\src\\pages\\auth\\UserAuth.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <base-dialog :show=\"!!error\" title=\"An error occured\" @close=\"handleError\">\r\n      <p>{{ error }}</p>\r\n    </base-dialog>\r\n    <base-dialog :show=\"isLoading\" title=\"Authenticating...\" fixed>\r\n      <base-spinner></base-spinner>\r\n    </base-dialog>\r\n    <base-card>\r\n      <form @submit.prevent=\"submitForm\">\r\n        <div class=\"form-control\">\r\n          <label for=\"email\">E-Mail</label>\r\n          <input type=\"email\" id=\"email\" v-model.trim=\"email\" />\r\n        </div>\r\n        <div class=\"form-control\">\r\n          <label for=\"password\">Password</label>\r\n          <input type=\"password\" id=\"email\" v-model.trim=\"password\" />\r\n        </div>\r\n        <p v-if=\"!formIsValid\">\r\n          Please enter a valid email and password (must be at least 6 characters\r\n          long).\r\n        </p>\r\n        <base-button>{{ submitButtonCaption }}</base-button>\r\n        <base-button type=\"button\" mode=\"flat\" @click=\"switchAuthMode\">{{\r\n          switchModeButtonCaption\r\n        }}</base-button>\r\n      </form>\r\n    </base-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      email: '',\r\n      password: '',\r\n      formIsValid: true,\r\n      mode: 'login',\r\n      isLoading: false,\r\n      error: null,\r\n    };\r\n  },\r\n  computed: {\r\n    submitButtonCaption() {\r\n      if (this.mode === 'login') {\r\n        return 'Login';\r\n      } else {\r\n        return 'Sign Up';\r\n      }\r\n    },\r\n    switchModeButtonCaption() {\r\n      if (this.mode === 'login') {\r\n        return 'Signup instead';\r\n      } else {\r\n        return 'Login instead';\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    async submitForm() {\r\n      this.formIsValid = true;\r\n      if (this.email === '' || this.password.length < 6) {\r\n        this.formIsValid = false;\r\n        return;\r\n      }\r\n\r\n      this.isLoading = true;\r\n\r\n      const actionPayload = {\r\n        email: this.email,\r\n        password: this.password,\r\n      };\r\n\r\n      //send http request...\r\n      try {\r\n        if (this.mode === 'login') {\r\n          await this.$store.dispatch('login', actionPayload);\r\n        } else {\r\n          await this.$store.dispatch('signup', actionPayload);\r\n        }\r\n        if (this.$route.query.redirect) {\r\n          if (this.$store.getters['coaches/isCoach']) {\r\n            this.$router.replace('/coaches');\r\n          } else {\r\n            this.$router.replace('/' + this.$route.query.redirect);\r\n          }\r\n        } else {\r\n          this.$router.replace('/coaches');\r\n        }\r\n        // const redirectUrl = '/' + (this.$route.query.redirect || 'coaches');\r\n        // this.$router.replace(redirectUrl);\r\n      } catch (err) {\r\n        this.error = err.message || 'Failed to authecticate, try later.';\r\n      }\r\n\r\n      this.isLoading = false;\r\n    },\r\n    switchAuthMode() {\r\n      if (this.mode === 'login') {\r\n        this.mode = 'signup';\r\n      } else {\r\n        this.mode = 'login';\r\n      }\r\n    },\r\n    handleError() {\r\n      this.error = null;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nform {\r\n  margin: 1rem;\r\n  padding: 1rem;\r\n}\r\n\r\n.form-control {\r\n  margin: 0.5rem 0;\r\n}\r\n\r\nlabel {\r\n  font-weight: bold;\r\n  margin-bottom: 0.5rem;\r\n  display: block;\r\n}\r\n\r\ninput {\r\n  display: block;\r\n  width: 100%;\r\n  font: inherit;\r\n  border: 1px solid #ccc;\r\n  padding: 0.15rem;\r\n}\r\n\r\ninput:focus {\r\n  border-color: #3d008d;\r\n  background-color: #faf6ff;\r\n  outline: none;\r\n}\r\n</style>"]}]}