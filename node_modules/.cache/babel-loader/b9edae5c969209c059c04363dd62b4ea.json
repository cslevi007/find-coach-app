{"remainingRequest":"C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\src\\store\\modules\\requests\\actions.js","dependencies":[{"path":"C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\src\\store\\modules\\requests\\actions.js","mtime":1655189346882},{"path":"C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\babel.config.js","mtime":1598433744000},{"path":"C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1653990490219},{"path":"C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1653990490215},{"path":"C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\node_modules\\babel-loader\\lib\\index.js","mtime":1653990506204},{"path":"C:\\Users\\CLS1MC\\source\\repos\\vue_complete\\main-prj-01-starting-setup\\node_modules\\eslint-loader\\index.js","mtime":1653990494556}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQzovVXNlcnMvQ0xTMU1DL3NvdXJjZS9yZXBvcy92dWVfY29tcGxldGUvbWFpbi1wcmotMDEtc3RhcnRpbmctc2V0dXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOi9Vc2Vycy9DTFMxTUMvc291cmNlL3JlcG9zL3Z1ZV9jb21wbGV0ZS9tYWluLXByai0wMS1zdGFydGluZy1zZXR1cC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb250YWN0Q29hY2g6IGZ1bmN0aW9uIGNvbnRhY3RDb2FjaChjb250ZXh0LCBwYXlsb2FkKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgbmV3UmVxdWVzdCwgcmVzcG9uc2UsIHJlc3BvbnNlRGF0YSwgZXJyb3I7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBuZXdSZXF1ZXN0ID0gewogICAgICAgICAgICAgICAgdXNlckVtYWlsOiBwYXlsb2FkLmVtYWlsLAogICAgICAgICAgICAgICAgbWVzc2FnZTogcGF5bG9hZC5tZXNzYWdlCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHBzOi8vdnVlLWh0dHAtZGVtby0zNGU1ZC1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vcmVxdWVzdHMvIi5jb25jYXQocGF5bG9hZC5jb2FjaElkLCAiLmpzb24iKSwgewogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShuZXdSZXF1ZXN0KQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2VEYXRhKTsKCiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlRGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc2VuZCByZXF1ZXN0LicpOwogICAgICAgICAgICAgIHRocm93IGVycm9yOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBuZXdSZXF1ZXN0LmlkID0gcmVzcG9uc2VEYXRhLm5hbWU7CiAgICAgICAgICAgICAgbmV3UmVxdWVzdC5jb2FjaElkID0gcGF5bG9hZC5jb2FjaElkOwogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdhZGRSZXF1ZXN0JywgbmV3UmVxdWVzdCk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZmV0Y2hSZXF1ZXN0czogZnVuY3Rpb24gZmV0Y2hSZXF1ZXN0cyhjb250ZXh0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvYWNoSWQsIHRva2VuLCByZXNwb25zZSwgcmVzcG9uc2VEYXRhLCBlcnJvciwgcmVxdWVzdHMsIGtleSwgcmVxdWVzdDsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb2FjaElkID0gY29udGV4dC5yb290R2V0dGVycy51c2VySWQ7CiAgICAgICAgICAgICAgdG9rZW4gPSBjb250ZXh0LnJvb3RHZXR0ZXJzLnRva2VuOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHBzOi8vdnVlLWh0dHAtZGVtby0zNGU1ZC1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vcmVxdWVzdHMvIi5jb25jYXQoY29hY2hJZCwgIi5qc29uP2F1dGg9IikuY29uY2F0KHRva2VuKSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVxdWVzdHMgcmVzcG9uc2UgZGF0YTonKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZURhdGEpOwoKICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlRGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZmV0Y2ggcmVxdWVzdHMuJyk7CiAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIHJlcXVlc3RzID0gW107CgogICAgICAgICAgICAgIGZvciAoa2V5IGluIHJlc3BvbnNlRGF0YSkgewogICAgICAgICAgICAgICAgcmVxdWVzdCA9IHsKICAgICAgICAgICAgICAgICAgaWQ6IGtleSwKICAgICAgICAgICAgICAgICAgY29hY2hJZDogY29hY2hJZCwKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiByZXNwb25zZURhdGFba2V5XS51c2VyRW1haWwsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlRGF0YVtrZXldLm1lc3NhZ2UKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICByZXF1ZXN0cy5wdXNoKHJlcXVlc3QpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ3NldFJlcXVlc3RzJywgcmVxdWVzdHMpOwoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"names":["contactCoach","context","payload","newRequest","userEmail","email","message","fetch","coachId","method","body","JSON","stringify","response","json","responseData","console","log","ok","error","Error","id","name","commit","fetchRequests","rootGetters","userId","token","requests","key","request","push"],"sources":["C:/Users/CLS1MC/source/repos/vue_complete/main-prj-01-starting-setup/src/store/modules/requests/actions.js"],"sourcesContent":["export default {\r\n    async contactCoach(context, payload) {\r\n        const newRequest = {\r\n            userEmail: payload.email,\r\n            message: payload.message\r\n        };\r\n        const response = await fetch(`https://vue-http-demo-34e5d-default-rtdb.firebaseio.com/requests/${payload.coachId}.json`, {\r\n            method: 'POST',\r\n            body: JSON.stringify(newRequest)\r\n        })\r\n\r\n        const responseData = await response.json();\r\n\r\n        console.log(responseData);\r\n\r\n        if (!response.ok) {\r\n            const error = new Error(responseData.message || 'Failed to send request.')\r\n            throw error;\r\n        }\r\n        newRequest.id = responseData.name;\r\n        newRequest.coachId = payload.coachId;\r\n\r\n        context.commit('addRequest', newRequest);\r\n    },\r\n    async fetchRequests(context) {\r\n        const coachId = context.rootGetters.userId;\r\n        const token = context.rootGetters.token;\r\n        const response = await fetch(`https://vue-http-demo-34e5d-default-rtdb.firebaseio.com/requests/${coachId}.json?auth=${token}`)\r\n        const responseData = await response.json();\r\n\r\n        console.log('Requests response data:');\r\n        console.log(responseData);\r\n\r\n        if (!response.ok) {\r\n            const error = new Error(responseData.message || 'Failed to fetch requests.')\r\n            throw error;\r\n        }\r\n\r\n        const requests = [];\r\n\r\n        for (const key in responseData) {\r\n            const request = {\r\n                id: key,\r\n                coachId: coachId,\r\n                userEmail: responseData[key].userEmail,\r\n                message: responseData[key].message\r\n            };\r\n            requests.push(request);\r\n        }\r\n\r\n        context.commit('setRequests', requests);\r\n    }\r\n};"],"mappings":";;;;;;;AAAA,eAAe;EACLA,YADK,wBACQC,OADR,EACiBC,OADjB,EAC0B;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAC3BC,UAD2B,GACd;gBACfC,SAAS,EAAEF,OAAO,CAACG,KADJ;gBAEfC,OAAO,EAAEJ,OAAO,CAACI;cAFF,CADc;cAAA;cAAA,OAKVC,KAAK,4EAAqEL,OAAO,CAACM,OAA7E,YAA6F;gBACrHC,MAAM,EAAE,MAD6G;gBAErHC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,UAAf;cAF+G,CAA7F,CALK;;YAAA;cAK3BU,QAL2B;cAAA;cAAA,OAUNA,QAAQ,CAACC,IAAT,EAVM;;YAAA;cAU3BC,YAV2B;cAYjCC,OAAO,CAACC,GAAR,CAAYF,YAAZ;;cAZiC,IAc5BF,QAAQ,CAACK,EAdmB;gBAAA;gBAAA;cAAA;;cAevBC,KAfuB,GAef,IAAIC,KAAJ,CAAUL,YAAY,CAACT,OAAb,IAAwB,yBAAlC,CAfe;cAAA,MAgBvBa,KAhBuB;;YAAA;cAkBjChB,UAAU,CAACkB,EAAX,GAAgBN,YAAY,CAACO,IAA7B;cACAnB,UAAU,CAACK,OAAX,GAAqBN,OAAO,CAACM,OAA7B;cAEAP,OAAO,CAACsB,MAAR,CAAe,YAAf,EAA6BpB,UAA7B;;YArBiC;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAsBpC,CAvBU;EAwBLqB,aAxBK,yBAwBSvB,OAxBT,EAwBkB;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cACnBO,OADmB,GACTP,OAAO,CAACwB,WAAR,CAAoBC,MADX;cAEnBC,KAFmB,GAEX1B,OAAO,CAACwB,WAAR,CAAoBE,KAFT;cAAA;cAAA,OAGFpB,KAAK,4EAAqEC,OAArE,wBAA0FmB,KAA1F,EAHH;;YAAA;cAGnBd,QAHmB;cAAA;cAAA,OAIEA,QAAQ,CAACC,IAAT,EAJF;;YAAA;cAInBC,YAJmB;cAMzBC,OAAO,CAACC,GAAR,CAAY,yBAAZ;cACAD,OAAO,CAACC,GAAR,CAAYF,YAAZ;;cAPyB,IASpBF,QAAQ,CAACK,EATW;gBAAA;gBAAA;cAAA;;cAUfC,KAVe,GAUP,IAAIC,KAAJ,CAAUL,YAAY,CAACT,OAAb,IAAwB,2BAAlC,CAVO;cAAA,MAWfa,KAXe;;YAAA;cAcnBS,QAdmB,GAcR,EAdQ;;cAgBzB,KAAWC,GAAX,IAAkBd,YAAlB,EAAgC;gBACtBe,OADsB,GACZ;kBACZT,EAAE,EAAEQ,GADQ;kBAEZrB,OAAO,EAAEA,OAFG;kBAGZJ,SAAS,EAAEW,YAAY,CAACc,GAAD,CAAZ,CAAkBzB,SAHjB;kBAIZE,OAAO,EAAES,YAAY,CAACc,GAAD,CAAZ,CAAkBvB;gBAJf,CADY;gBAO5BsB,QAAQ,CAACG,IAAT,CAAcD,OAAd;cACH;;cAED7B,OAAO,CAACsB,MAAR,CAAe,aAAf,EAA8BK,QAA9B;;YA1ByB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EA2B5B;AAnDU,CAAf"}]}